<template>
    <!-- –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div v-if="!isPreviewMode" class="md-editor-wrapper">
        <div class="md-toolbar">
            <button @click="insertMarkdown('**', '**')" title="–ñ–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç" class="md-button">
                <b>B</b>
            </button>
            <button @click="insertMarkdown('*', '*')" title="–ö—É—Ä—Å–∏–≤" class="md-button">
                <i>I</i>
            </button>
            <button @click="insertMarkdown('# ', '')" title="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1" class="md-button">
                H1
            </button>
            <button @click="insertMarkdown('## ', '')" title="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 2" class="md-button">
                H2
            </button>
            <button @click="insertMarkdown('### ', '')" title="–ó–∞–≥–æ–ª–æ–≤–æ–∫ 3" class="md-button">
                H3
            </button>
            <button @click="insertMarkdown('- ', '')" title="–°–ø–∏—Å–æ–∫" class="md-button">‚Ä¢</button>
            <button
                @click="insertMarkdown('1. ', '')"
                title="–ù—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫"
                class="md-button"
            >
                1.
            </button>
            <button @click="insertMarkdown('[', '](url)')" title="–°—Å—ã–ª–∫–∞" class="md-button">
                üîó
            </button>
            <button
                @click="insertMarkdown('![alt text](', ')')"
                title="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
                class="md-button"
            >
                üñºÔ∏è
            </button>
            <button @click="insertMarkdown('```\n', '\n```')" title="–ë–ª–æ–∫ –∫–æ–¥–∞" class="md-button">
                &lt;/&gt;
            </button>
            <button @click="insertMarkdown('> ', '')" title="–¶–∏—Ç–∞—Ç–∞" class="md-button">"</button>
            <button
                @click="insertMarkdown('---\n', '')"
                title="–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è"
                class="md-button"
            >
                ‚Äî
            </button>
        </div>

        <textarea
            ref="mdTextarea"
            v-model="content"
            class="editor-content"
            placeholder="–ù–∞—á–Ω–∏—Ç–µ –ø–∏—Å–∞—Ç—å –∑–¥–µ—Å—å... (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Markdown)"
            @input="handleContentChange"
        ></textarea>
    </div>

    <!-- –†–µ–∂–∏–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
    <div v-else class="md-preview" v-html="renderedMarkdown"></div>
</template>

<script setup lang="ts"></script>
